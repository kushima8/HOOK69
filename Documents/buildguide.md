# HOOK69 ビルドガイド
## はじめに
このたびはご購入いただきありがとうございます。<br>
本製品は組み立てが必要なキットです。<br>

HOOK69は液晶タブレット上面に設置して使用することに主眼を置いたキーボードです。<br>
使用するキーキャップについては[キーレイアウト](http://www.keyboard-layout-editor.com/##@@=Esc&=%E5%8D%8A%E8%A7%92%2F%2F%0A%0A%0A%0A%0A%0A%E5%85%A8%E8%A7%92&=Q&=W&=E&=R&=T&=Y&=Space&=U&=I&=O&=P&=%60%0A%0A%0A%0A%0A%0A%2F@&=%7B%5B&=WIN&=BS&=!%0A%0A%0A%0A%0A%0A1&=%E2%80%9D%0A%0A%0A%0A%0A%0A2&=%23%0A%0A%0A%0A%0A%0A3&=0&=%2F=%0A%0A%0A%0A%0A%0A-&=~%0A%0A%0A%0A%0A%0A%5E&_x:0.75%3B&=Rotary%0A%0A%0A%0A%0A%0APush%3B&@_a:7%3B&=&_x:-1%3B&=&_x:-1&a:4%3B&=TAB&=Shift&=A&=S&=D&=F&=G&=H&=Space&=J&=K&=L&=+%0A%0A%0A%0A%0A%0A%2F%3B&=*%0A%0A%0A%0A%0A%0A%2F:&=%5D%7D&=Shift&=Enter&=$%0A%0A%0A%0A%0A%0A4&=%25%0A%0A%0A%0A%0A%0A5&=%2F&%0A%0A%0A%0A%0A%0A6&_a:7%3B&=&_a:4%3B&=%E2%86%91&_a:7%3B&=&_x:0.75&a:4%3B&=Rotary%0A%0A%0A%0A%0A%0AUp%3B&@=CAPS&=Ctrl&=Alt&=Z&=X&=C&=V&=B&=Space&=N&=M&=%3C%0A%0A%0A%0A%0A%0A,&=%3E%0A%0A%0A%0A%0A%0A.&=%3F%0A%0A%0A%0A%0A%0A%2F%2F&=%2F_%0A%0A%0A%0A%0A%0A%5C&=Fn&=Ctrl&=%E2%80%99%0A%0A%0A%0A%0A%0A7&=(%0A%0A%0A%0A%0A%0A8&=)%0A%0A%0A%0A%0A%0A9&=%E2%86%90&=%E2%86%93&=%E2%86%92&_x:0.75%3B&=Rotary%0A%0A%0A%0A%0A%0ADown)を確認してください。<br>

写真は作成見本であり商品内容と同一ではありません。<br>
また仕様は予告なく変更されることがあります。<br>

ファームウェアに[qmk_firmware](https://github.com/qmk/qmk_firmware)を採用しています。<br>
QMKにHOOK69のコードはまだマージされていませんのでこの[ブランチ](https://github.com/kushima8/qmk_firmware/tree/hook69)を使用してください。<br>
動作確認の為にdefaultの[HEXファイル](https://github.com/kushima8/HOOK69/tree/main/HEX)を用意しています。<br>

キット作成前にPro Microの書き込み環境の構築を行ってください。<br>
ファームウェアの書き込み環境の構築については下記のサリチル酸さんのサイトを参考にしてください。<br>
[（初心者編）自作キーボードにファームウェアを書き込む](https://salicylic-acid3.hatenablog.com/entry/qmk-toolbox)<br>

キー割り当ての変更方法などはご自身でお調べいただくようお願いします。<br>

GUIから簡単にキー割り当てを変更できる[VIA](https://caniusevia.com/)と[Remap](https://remap-keys.app/)に対応しております。<br>
ロータリーエンコーダの回転割り当ても含め、設定できますのでご活用ください。<br>
VIAとRemapについては下記のサリチル酸さんのサイトを参考にしてください。<br>
[（初心者編）VIAを使ってキーマップを書き換えよう](https://salicylic-acid3.hatenablog.com/entry/via-manual)<br>
[（初心者編）Remapを使ってキーマップを書き換えよう](https://salicylic-acid3.hatenablog.com/entry/remap-manual)<br>

以下の部品リストを参考に欠品がないか確認をお願いします。<br>

## 部品

### キットに付属しているもの

|名称|数量|備考|
|----|:---:|----|
|PCB|1枚|リバーシブル|
|トッププレート|1枚||
|ボトムプレート|1枚||
|M2 6mmスペーサー(ARB-2006E)|14個|丸型両メネジ|
|M2 4mmネジ|16本|
|M2 6mmネジ|12本|
|Kailh PCB ソケット(Kailh Choc V1用)|69個|
|ダイオード(1N4148/1N4148W)|82本/個|どちらかが同梱|
|タクトスイッチ|1個|
|ミニブックエンド|2個|

### 別途、購入が必ず必要なもの
以下の部品は別途購入してください。

|名称|数量|備考|
|----|:---:|----|
|キースイッチ(Cherry MX互換 or Kailh Choc V1)|69個|
|キーキャップ(Cherry MX互換 or Kailh Choc V2)|69個|
|Pro Micro|1個||
|コンスルーピンヘッダ|2個|キットに同梱されてない場合|
|プッシュスイッチ内蔵ロータリーエンコーダ(EC11/EC12互換 or EVQWGD001)|1個|
|ノブ|1個|EC11/EC12互換使用の場合のみ|

### オプション
以下の部品はオプション品です。
キーボードを光らせたいなどの場合のみ別途購入してください。

|名称|数量|備考|
|----|:---:|----|
|LEDチップ(YS-SK6812MINI-E)|1個|
|OLEDモジュール|1個|
|OLED用ピンソケット|1個|
|Kailh PCB ソケット(MX用)|69個|
|M2 3mmスペーサー(ARB-2003E)|12個|全キーCherry MX互換使用時のみ|
|M2 8mmネジ|12個|全キーCherry MX互換使用時のみ|


## 組み立て
※完成見本写真などではPro Microの接続位置を左端にしていますが、本機はリバーシブル基盤となっております。<br>
　Pro Microを右端にして本機を使用したい場合は反転させて実装してください。
　作成時にマスキングテープを使い表面と裏面がわかるようにしておくと作業ミスがすくなくなります。
 　![000]()
<br>
<br>
* 表面(左側接続)<br>
  ![001]()
* 裏面(左側接続)<br>
  ![002]()
* 表面(右側接続)<br>
  ![003]()
* 裏面(右側接続)<br>
  ![004]()
* 1.ヤスリがけ
  * 製造の都合上PCBにバリが存在します。
  ![101]()
* 裏面<br>
  * バリが気になる場合は、この箇所を市販されている紙ヤスリなどで研磨してください。
* 2.Pro Microのはんだ付け
  * チップが載っている面が内側になるようにし、コンスルーピンヘッダを取り付けはんだ付けをしてください。
  * コンスルーピンヘッダには取り付け方向があるため気をつけてください。
  * [コンスルー - Self-Made Keyboards in Japan - ](https://scrapbox.io/self-made-kbds-ja/%E3%82%B3%E3%83%B3%E3%82%B9%E3%83%AB%E3%83%BC)<br>
  ![003](https://user-images.githubusercontent.com/58157342/89108152-21b31980-d471-11ea-9df6-11b106120852.JPG)
* 3.ファームウェアの書き込み
  * [HOOK69_default.hex](https://github.com/kushima8/Re/blob/master/HOOK69/HEX/HOOK69_default.hex)を指定してファームウェアを書き込んでください。
* 4.LEDチップのはんだ付け(オプション)
  * 高い温度ではんだ付けを行うとLED破損の可能性がありますので、約270℃に設定してはんだ付けをするようにしてください。
  * LEDは足が欠けている箇所が左下にあるシルクのマークの位置に来るように設置し、はんだ付けを行ってください。
  * はんだ付けが完了したら一度Pro Microを取り付け、LEDが光るかどうかテストを行ってください。<br>
  ![004]()
* 5-1.ダイオードのはんだ付け(挿入実装の場合)
  * ダイオードの足を曲げ、PCB裏面から取り付け、表面からはんだ付けを行ってください。
  * ダイオードの向きは前面から見て左(三角形の頂点の先に縦棒がある方)に黒帯が来るように設置しはんだ付けを行ってください。
  ![005]()
* 5-2.ダイオードのはんだ付け(表面実装の場合)
　* PCB裏面のダイオード取り付け箇所の片側に予めはんだを盛ります。
  * その後、線が書いてある方を左(三角形の頂点の先に縦棒がある方)にセットします。
  * ダイオードをピンセットで持ちつつ、予めはんだを盛った箇所をはんだごてで加熱して片側だけはんだ付けを行います。
  ![006]()
  * 片側のはんだ付けが完了後、もう片方もはんだ付けを行ってください。
* 6.Kailh PCB ソケット(MX用 or Kailh Choc V1用)のはんだ付け
  * 中央の穴に干渉しないようにソケットをPCB裏面に設置してください。
  * 上穴がMX用で下穴がKailh Choc V1用です。<br>
  ![007]()
  * ソケットの片側はんだ付けをしっかりと行い、基盤から浮いていないようであればもう片方もはんだ付けをしっかりと行ってください。
* 7.タクトスイッチはんだ付け
  * PCB表面から取り付け、裏面からはんだ付けを行ってください。
* 8.OLEDの取り付け(オプション)
  * 基盤裏面にあるジャンパ4箇所をショートさせてください。
  ![008]()
  * OLEDモジュールとピンヘッダのハンダ付けを行ってください。
  * ピンソケットをPCB表面から取り付け、裏面からはんだ付けを行ってください。
　![009]()
* 9.ロータリーエンコーダ(EC11/EC12互換 or EVQWGD001)のはんだ付け
  * PCB表面からロータリーエンコーダを取り付け、裏面からはんだ付けを行ってください。
  * EVQWGD001の取り付けはフックを右側に、ピンを左側にして実装してください。
  * 長方形の穴にフック側を差し込み引っ掛けてからピンを基板側に刺すと取り付け出来ます。
　![010]()
* 10.トッププレートの取り付け
  * 基盤とネジ穴が合うようにPCB表面に設置。
  * ネジ穴下部にM2 6mmスペーサーを設置し、上部からM2 6mmネジで固定してください。
* 11.ProMicro下部スペーサー取り付け
  * ProMicro下部のネジ穴下部にM2 6mmスペーサーを設置し、上面からM2 4mmネジで固定してください。
* 12.ボトムプレートの取り付け。
  * スペーサーとボトムプレートのネジ穴の位置を合わせ、M2 4mmネジで固定してください。
* 13.キースイッチの取り付け
  * 基盤にキースイッチを取り付けてください。
* 14.Pro Microの取り付け
  * Pro Microを取り付け、PCと接続し、REMAPなどを用いてキースイッチとロータリーエンコーダの入力の確認を行ってください。
* 15.OLEDモジュールの取り付け(オプション)
  * OLEDモジュールを取り付け、PCと接続し、表示されることの確認を行ってください。
  * デフォルトではレイヤーとLEDの光度情報が表示されます。
* 16.つまみの取り付け(EC11/EC12互換使用の場合のみ)
  * つまみをロータリーエンコーダーに取り付けてください。
* 17.キーキャップの取り付け
  * キースイッチにキーキャップを取り付けてください。
  * 使用するキーキャップはすべて1Uのものになります。

組み立ての手順は、以上です。